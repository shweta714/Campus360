<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Exam Panel - Campus360</title>
    <link rel="stylesheet" href="student-dashboard.css">
    <link rel="stylesheet" href="exampanel.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>

<body>
    <!-- App Sidebar (shared) -->
    <aside class="app-sidebar" id="appSidebar" aria-label="Main navigation">
        <nav class="sidebar-nav">
            <ul>
                <li class="sidebar-item" data-target="student-dashboard.html" title="Home">
                    <button class="sidebar-btn" data-href="student-dashboard.html">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M3 10.5L12 4l9 6.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M5 10.5v7a1 1 0 0 0 1 1h3v-5h6v5h3a1 1 0 0 0 1-1v-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </li>

                <li class="sidebar-item" data-target="profile.html" title="Profile Overview">
                    <button class="sidebar-btn" data-href="profile.html">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M4 20a8 8 0 0 1 16 0" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </li>

                <li class="sidebar-item" data-target="exam-panel.html" title="Exam Panel">
                    <button class="sidebar-btn" data-href="exam-panel.html">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M3 6.5A2.5 2.5 0 0 1 5.5 4H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M21 4v14a2 2 0 0 1-2 2H6.5A2.5 2.5 0 0 1 4 17.5V4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M8 14h8" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </li>

                <li class="sidebar-item" data-target="courses.html" title="Resources">
                    <button class="sidebar-btn" data-href="courses.html">
                        <!-- Resources SVG -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M4 6.5A2.5 2.5 0 0 1 6.5 4H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </li>

                <li class="sidebar-item" data-target="settings.html" title="Settings">
                    <button class="sidebar-btn" data-href="settings.html">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M19.4 15a1.8 1.8 0 0 0 .3 2l.1.1a1 1 0 0 1-1.4 1.4l-.1-.1a1.8 1.8 0 0 0-2 .3l-.2.2a1 1 0 0 1-1.4 0l-.2-.2a1.8 1.8 0 0 0-2-.3l-.2.1a1 1 0 0 1-1-.2l-.1-.1a1.8 1.8 0 0 0-.3-2l-.1-.1a1 1 0 0 1 0-1.4l.1-.1a1.8 1.8 0 0 0 .3-2l-.1-.2a1 1 0 0 1 1.1-1.4l.2.1a1.8 1.8 0 0 0 2-.3l.2-.2a1 1 0 0 1 1.4 0l.2.2a1.8 1.8 0 0 0 2 .3l.2-.1a1 1 0 0 1 1 .2l.1.1a1.8 1.8 0 0 0 .3 2l.1.1a1 1 0 0 1 0 1.4l-.1.1z" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- top navbar removed in favor of sidebar navigation -->


   
    </head>

    <main class="dashboard-container">
        <section class="welcome-section"></section>

        <div class="exam-grid-container">
            <div class="exam-column upcoming-column" id="upcoming-exams">
                <h3 class="column-title">Upcoming Exams</h3>

                <!-- Ensure consistent structure with Completed Exams -->
                <div class="exam-card" id="upcoming-DBMS">
                    <div class="card-content">
                        <div class="text-info">
                            <div class="subject-name">ðŸ“š DBMS</div>
                            <div class="department">Computer Science Department</div>
                        </div>
                    </div>
                    <button class="start-button" onclick="startExam('DBMS', 'upcoming-DBMS')">Start Exam</button>
                </div>

                <div class="exam-card" id="upcoming-IoT">
                    <div class="card-content">
                        <div class="text-info">
                            <div class="subject-name">ðŸ”Œ IoT</div>
                            <div class="department">Electronics Engineering</div>
                        </div>
                    </div>
                    <button class="start-button" onclick="startExam('IoT', 'upcoming-IoT')">Start Exam</button>
                </div>

                <div class="exam-card" id="upcoming-OOSE">
                    <div class="card-content">
                        <div class="text-info">
                            <div class="subject-name">ðŸ’» OOSE</div>
                            <div class="department">Software Engineering</div>
                        </div>
                    </div>
                    <button class="start-button" onclick="startExam('OOSE', 'upcoming-OOSE')">Start Exam</button>
                </div>

                <div class="empty-message" id="upcoming-empty-message" style="display: none;">
                    <i class="fas fa-calendar-alt"></i>
                    <p>No exams currently scheduled.</p>
                    <p><em>Weâ€™ll let <a href="#">you know</a> when new exams are added!</em></p>

                </div>
            </div>

            <div class="exam-column completed-column" id="completed-exams">
                <h3 class="column-title">Completed Exams</h3>
                <div class="empty-message" id="completed-empty-message">
                    <i class="fas fa-check-circle"></i>
                    <p>No exams completed yet. Start an exam from the Upcoming list!</p>
                </div>
            </div>
        </div>
    </main>

    <div class="modal-overlay" id="instructions-modal">
        <div class="modal-content">
            <h2>Exam Instructions for <span id="modal-exam-title"></span></h2>
            <p><strong>Please read the following carefully before starting your exam.</strong></p>
            <ul>
                <li>The exam is divided into two sections:
                    <br>&bull; **Section A:** 10 Questions, **1 Mark** each (Total 10 Marks).
                    <br>&bull; **Section B:** 10 Questions, **2 Marks** each (Total 20 Marks).
                </li>
                <li>**Total Exam Time:** <span class="timer">20 minutes</span>.</li>
                <li>**Section A must be completed and submitted** before you can access Section B.</li>
                <li>**Total Exam Time:** <span class="timer">20 minutes</span>.</li>
                <li>**Section A must be completed and submitted** before you can access Section B.</li>
                <li>Once Section A is submitted, you cannot go back.</li>
            </ul>
            <div style="margin: 20px 0; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                **Question Status Guide:**
                <p style="margin: 5px 0;"><span
                        style="background-color: #28a745; color: white; padding: 2px 8px; border-radius: 3px;">&nbsp;Q&nbsp;</span>
                    - **Answered** (Green)</p>
                <p style="margin: 5px 0;"><span
                        style="background-color: #ff9966; color: white; padding: 2px 8px; border-radius: 3px;">&nbsp;Q&nbsp;</span>
                    - **Visited, Not Answered** (Orange)</p>
                <p style="margin: 5px 0;"><span
                        style="background-color: #f0f0f0; color: #333; padding: 2px 8px; border-radius: 3px; border: 1px solid #ccc;">&nbsp;Q&nbsp;</span>
                    - **Not Visited** (Grey/White)</p>
                <p style="margin: 5px 0;"><span
                        style="background-color: #007bff; color: white; padding: 2px 8px; border-radius: 3px;">&nbsp;Q&nbsp;</span>
                    - **Current Question** (Blue)</p>
            </div>
            <p style="margin-top: 20px; font-weight: bold;">Click "Start Exam" to begin.</p>
            <button class="start-button modal-button" onclick="openExamPanel()">Start Exam</button>
        </div>
    </div>

    <div id="exam-panel-modal">
        <div class="exam-layout">

            <div class="sidebar">
                <div class="sidebar-header">Question Palette</div>

                <div class="q-summary">
                    <div>
                        <span style="color: #333;">Total Questions:</span>
                        <span class="count-box" id="total-q-count">20</span>
                    </div>
                    <div>
                        <span style="color: #28a745;">Attempted:</span>
                        <span class="count-box" id="attempted-q-count">0</span>
                    </div>
                    <div>
                        <span style="color: #ff9966;">Not Answered:</span>
                        <span class="count-box" id="not-answered-q-count">0</span>
                    </div>
                    <div>
                        <span style="color: #6c757d;">Not Visited:</span>
                        <span class="count-box" id="not-visited-q-count">20</span>
                    </div>
                </div>

                <div id="q-status-grid-A" class="sidebar-grid">
                </div>
                <div id="q-status-grid-B" class="sidebar-grid" style="display: none;">
                </div>

            </div>

            <div class="main-content">
                <div class="exam-header">
                    <h2 id="exam-panel-title"></h2>
                    <div class="timer-display">Time Remaining: <span id="exam-timer" class="timer">20:00</span></div>
                </div>

                <div class="section-tab-nav">
                    <div class="section-tab active" id="tab-a" onclick="switchSection('A')">Section A (10 Qs, 1 Mark)
                    </div>
                    <div class="section-tab locked" id="tab-b" onclick="switchSection('B')">Section B (10 Qs, 2 Marks)
                    </div>
                </div>

                <div class="question-display">
                    <div class="q-header">Question <span id="current-q-num">1</span> (<span id="current-q-marks">1
                            Mark</span>)</div>
                    <div id="current-question-content">
                    </div>
                </div>

                <div class="navigation-footer">
                    <button class="nav-button" id="prev-button" onclick="navigateQuestion(-1)"
                        disabled>Previous</button>
                    <div id="section-action-buttons">
                        <button class="nav-button" id="next-button" onclick="navigateQuestion(1)">Save & Next</button>
                        <button class="nav-button" id="submit-section-button" onclick="submitSectionA()"
                            style="display: none;">Submit Section A</button>
                    </div>
                    <button class="nav-button" id="submit-final-button" onclick="submitFinalExam()"
                        style="display: none;">Submit Final Exam</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="final-submission-modal">
        <div class="modal-content">
            <h2>âœ… Exam Submitted Successfully!</h2>
            <p>Your answers for <strong id="submitted-exam-title"></strong> have been securely recorded.</p>
            <p style="margin-top: 20px; font-weight: bold;"><strong>Thank you for completing the exam</strong>!</p>
            <button class="review-button modal-button" onclick="closeFinalSubmissionModal()">Close Panel</button>
        </div>
    </div>


    <script src="exam-panel.js"></script>
    <script>
        (function initSidebarExam(){
            const sidebar = document.getElementById('appSidebar'); if(!sidebar) return;
            const items = sidebar.querySelectorAll('.sidebar-item');
            const current = window.location.pathname.split('/').pop() || 'exam-panel.html';
            items.forEach(li => {
                const target = li.getAttribute('data-target');
                if (target === current) li.classList.add('active');
                const btn = li.querySelector('.sidebar-btn');
                if (btn) {
                    btn.addEventListener('click', function () { items.forEach(x => x.classList.remove('active')); li.classList.add('active'); const href = btn.getAttribute('data-href'); if (href) window.location.href = href; });
                    btn.addEventListener('keydown', function (e) { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); } });
                }
            });
        })();
    </script>
</body>


</html>
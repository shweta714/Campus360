<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Login - Campus360</title>
  <link rel="stylesheet" href="student-dashboard.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
  <style>
    .auth-title {
      color: #333;
      text-align: center;
      margin-bottom: 20px;
      font-size: 1.5rem;
    }

    .social-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }

    .social-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: white;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.9rem;
      color: #333;
      text-decoration: none;
      gap: 10px;
    }

    .social-btn:hover {
      background-color: #f8f8f8;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    .social-btn:active {
      background-color: #eee;
    }

    .social-btn img {
      width: 18px;
      height: 18px;
    }

    .or-divider {
      text-align: center;
      position: relative;
      margin: 20px 0;
    }

    .or-divider::before,
    .or-divider::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 45%;
      height: 1px;
      background-color: #ddd;
    }

    .or-divider::before {
      left: 0;
    }

    .or-divider::after {
      right: 0;
    }

    .links-section {
      margin-top: 15px;
      text-align: center;
    }

    .links-section a {
      color: #4e54c8;
      text-decoration: none;
      font-size: 0.9rem;
    }

    .links-section a:hover {
      text-decoration: underline;
    }

    .otp-section {
      display: none;
    }

    .otp-container {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-top: 15px;
    }

    .otp-input {
      width: 40px;
      height: 40px;
      text-align: center;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 1.2rem;
      margin: 0 4px;
    }

    .timer {
      text-align: center;
      margin-top: 10px;
      color: #444;
      font-size: 0.9rem;
    }

    .resend-btn {
      background: none;
      border: none;
      color: #4e54c8;
      cursor: pointer;
      font-size: 0.9rem;
      padding: 0;
      text-decoration: underline;
    }

    .resend-btn:disabled {
      color: #999;
      text-decoration: none;
      cursor: not-allowed;
    }

    .success-message {
      color: #27ae60;
      text-align: center;
      margin-top: 10px;
      display: none;
    }

    .error-message {
      color: #e74c3c;
      text-align: center;
      margin-top: 10px;
      display: none;
    }
  </style>
  <style>
    /* Page background (use same image as signup) */
    body {
      margin: 0;
      font-family: 'Montserrat', 'Segoe UI', Arial, sans-serif;
      background: url('https://live.staticflickr.com/65535/51706490974_0f075484c9_k.jpg') no-repeat center center fixed;
      background-size: cover;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 24px;
    }

    /* Centered frosted panel */
    main { max-width: 420px; width: 100%; }
    .panel {
      background: rgba(255,255,255,0.14);
      border-radius: 14px;
      padding: 28px 28px 24px;
      box-shadow: 0 12px 30px rgba(16,24,40,0.08);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border: 1px solid rgba(255,255,255,0.18);
      box-sizing: border-box;
    }

    .logo-badge { width:64px;height:64px;border-radius:50%;margin:0 auto 10px;display:grid;place-items:center; background: linear-gradient(90deg,#6b46ff,#8b5cf6); box-shadow:0 10px 28px rgba(99,102,241,0.12); }
    .panel h1 { text-align:center;color:#6b46ff;margin:6px 0 6px;font-size:28px; }
  .panel p.subtitle { text-align:center;color:#222;margin:0 0 16px;font-size:0.95rem; }

    .role-toggle { display:flex; gap:12px; justify-content:center; margin-bottom:18px; }
    .role-option { padding:10px 16px; border-radius:10px; background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.06); cursor:pointer; font-weight:700; color:#222; }
    .role-option.active { background: linear-gradient(90deg,#6b46ff,#06b6d4); color:#fff; transform:translateY(-4px); }

  label.field-label { display:block; font-weight:600; color:#111; margin-bottom:6px; font-size:0.9rem; }
  input.field { width:100%; padding:12px 14px; border-radius:10px; border:none; background:#fff; box-sizing:border-box; font-size:1rem; color: #111; }
  /* lighter placeholder but darker input text for readability */
  input.field::placeholder { color: #8b8b91; }

    .btn-login { width:100%; padding:14px; margin-top:18px; border-radius:10px; border:none; color:#fff; font-weight:800; font-size:1rem; cursor:pointer; background: linear-gradient(90deg,#6b46ff,#8b5cf6); box-shadow: 0 10px 30px rgba(99,102,241,0.12); }

  .links-row { display:flex; justify-content:space-between; margin-top:12px; font-size:0.95rem; }
  .links-row a { color:#2b2b8f; text-decoration:none; font-weight:600; }
    .links-row a:hover { text-decoration:underline; }

    @media (max-width:480px) { .panel { padding:20px; } }
  </style>
</head>
<body>
  <main>
    <section class="panel">
      <div class="logo-badge"><img src="logo.png" alt="logo" style="width:36px;height:36px"></div>
      <h1>Login</h1>
      <p class="subtitle">Welcome to a smarter campus experience!</p>

      <div class="role-toggle">
        <div class="role-option active" id="role-student">üë©‚Äçüéì Student</div>
        <div class="role-option" id="role-faculty">üë®‚Äçüè´ Faculty</div>
      </div>

      <form id="loginForm">
        <div>
          <label class="field-label">Username or Email</label>
          <input class="field" id="email" type="text" placeholder="Enter your username or email" required>
        </div>

        <div style="margin-top:12px;">
          <label class="field-label">Password</label>
          <input class="field" id="password" type="password" placeholder="Enter your password" required>
        </div>

        <button class="btn-login" type="submit">Login</button>

        <div class="links-row">
          <a href="forgot-password.html">Forgot Password?</a>
          <a href="signup.html" id="signupLink"> Sign up </a>
        </div>
      </form>
    </section>
  </main>

  <script>
    const loginForm = document.getElementById('loginForm');

    // Role toggle behavior (student/faculty)
    const roleStudent = document.getElementById('role-student');
    const roleFaculty = document.getElementById('role-faculty');
    let selectedRole = 'student';

    function setRoleUI(role) {
      selectedRole = role;
      if (role === 'student') {
        roleStudent.style.background = 'linear-gradient(90deg,#7c3aed,#06b6d4)';
        roleStudent.style.color = '#fff';
        roleFaculty.style.background = 'rgba(255,255,255,0.08)';
        roleFaculty.style.color = '#333';
      } else {
        roleFaculty.style.background = 'linear-gradient(90deg,#7c3aed,#06b6d4)';
        roleFaculty.style.color = '#fff';
        roleStudent.style.background = 'rgba(255,255,255,0.08)';
        roleStudent.style.color = '#333';
      }
    }

    roleStudent.addEventListener('click', () => setRoleUI('student'));
    roleFaculty.addEventListener('click', () => setRoleUI('faculty'));

    // Handle login form submission ‚Äî redirect based on selected role
    loginForm.addEventListener('submit', function(e) {
      e.preventDefault();
      try { localStorage.setItem('authToken','demo-token'); } catch(e){}
      if (selectedRole === 'student') {
        window.location.href = 'student-dashboard.html';
      } else {
        window.location.href = 'faculty-dashboard.html';
      }
    });

    // Load Google Sign-In API
    function loadGoogleSignIn() {
      const script = document.createElement('script');
      script.src = 'https://accounts.google.com/gsi/client';
      script.async = true;
      document.head.appendChild(script);

      script.onload = function() {
        google.accounts.id.initialize({
          client_id: '123672447023-9ph6ep8mb7l4bkcosp7bbtbetvps8upn.apps.googleusercontent.com', // Replace with your actual client ID
          callback: handleGoogleSignIn
        });
      };
    }

    // Handle Google Sign-In response
    function handleGoogleSignIn(response) {
      const credential = response.credential;
      // Send the credential to your backend for verification
      // For demo purposes, we'll just redirect to dashboard
      try { localStorage.setItem('authToken', credential); } catch(e){}
      window.location.href = 'student-dashboard.html';
    }

    // Initialize Google Sign-In button (if present)
    const googleBtn = document.getElementById('googleSignIn');
    if (googleBtn) {
      googleBtn.addEventListener('click', function() {
        if (window.google && google.accounts && google.accounts.id) google.accounts.id.prompt();
      });
    }

    // Load Google Sign-In when page loads
    loadGoogleSignIn();
  </script>
</body>
</html>
